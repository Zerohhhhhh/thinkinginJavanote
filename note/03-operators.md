# 第3章 操作符

**<u>几乎所有的操作符都只能操作基本数据类型。例外的操作符是“=”、“==”和“！=”，这些操作符能操作所有的对象。除此之外，String类支持“+”和“+=”。</u>**

## 优先级

先乘除后加减。应该使用括号明确规定计算顺序。

## 赋值（“=”）

### 基本类型赋值

基本类型存储了实际的数值，而非指向一个对象的引用，所以在为其赋值的时候，是直接将一个地方的内容复制到了另一个地方。例如，对基本数据类型使用a=b，那么b的内容就复制给a。若接着又修改了a，而b根本不会受这种修改的影响。

### 对象赋值

对一个对象进行操作时，我们真正操作的是对对象的引用。所以倘若“将一个对象赋值给另一个对象”，实际是将“引用”从一个地方复制到另一个地方。这意味着假若对对象用c=d，那么c和d都指向原本只有d指向的那个对象。

如下例子，在许多编程语言中，我们可能会期望t1和t2总是相互独立的。但由于赋值操作的是一个对象的使用，所以修改t1的同时也改变了t2.这是由于t1和t2包含的是相同的引用，他们指向相同的对象。

```java
@Test
public void assignment(){
    Tank t1 = new Tank();
    Tank t2 = new Tank();
    t1.setLevel(9);
    t2.setLevel(47);
    Print.print("1: t1.level:" + t1.getLevel() + ", t2.level:" + t2.getLevel());
    t1=t2;
    Print.print("2: t1.level:" + t1.getLevel() + ", t2.level:" + t2.getLevel());
    t1.setLevel(27);
    Print.print("3: t1.level:" + t1.getLevel() + ", t2.level:" + t2.getLevel());
    /* output
        1: t1.level:9, t2.level:47
        2: t1.level:47, t2.level:47
        3: t1.level:27, t2.level:27
     */
}

```

这种特殊的现象通常称作“别名现象”，是Java操作对象的一种基本方式。在这个例子中，如果想避免别名问题可以这样写：

```java
t2.setLevel(78);
t1.setLevel(t2.getLevel());

```

## 算术操作符

算术操作符包括加号（+）、减号（-）、除号（/）、乘号（\*）和取模操作符（%）。

整数除法会直接去掉结果的小数位，而不是四舍五入地圆整结果。

在操作符后紧跟一个等号可以同时进行运算和赋值操作，如+=、-=、*=、/=和%=。

## 自动递增和递减

前缀递增和前缀递减（++a或--a），会先执行+1运算，再生成值；后缀递增和后缀递减（a--或a++），会先生成值，再执行+1运算。





